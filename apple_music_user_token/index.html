<head>
  <meta
    name="apple-music-developer-token"
    content="devToken"
  />
  <meta name="apple-music-app-name" content="My Cool Web App" />
  <meta name="apple-music-app-build" content="1978.4.1" />
</head>
<body>
  <button id="apple-music-authorize">Authorize</button>
  <script src="https://js-cdn.music.apple.com/musickit/v1/musickit.js"></script>
  <script>
    document.addEventListener("musickitloaded", function () {
      // MusicKit global is now defined
      MusicKit.configure({
        developerToken:
          "devToken",
        app: {
          name: "My Cool Web App",
          build: "1978.4.1",
        },
      });
    });
    document.getElementById("apple-music-authorize").onclick = async () => {
      const music = MusicKit.getInstance();
      const userToken = await music.authorize();
      console.log({ userToken });
    };
    // async onClick = () => {
    //   // get musickit instance
    //   const music = MusicKit.getInstance();

    //   // authorize user
    //   const userToken = await music.authorize();
    //   console.log({ userToken });

    //   // now use `userToken` will return a user authroized string
    //   // do anything with it
    // };
  </script>
</body>
